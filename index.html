<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ApnaBridge | Jobs & Rentals</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: "Poppins", sans-serif;
      background: linear-gradient(135deg, #e3f2fd, #f9f9f9);
      color: #333;
      overflow-x: hidden;
    }

    /* Smooth animation */
    html {
      scroll-behavior: smooth;
    }

    /* Navbar */
    .navbar {
      background: rgba(0, 119, 182, 0.85);
      backdrop-filter: blur(12px);
      box-shadow: 0 6px 20px rgba(0,0,0,0.15);
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 50px;
      height: 75px;
      color: #fff;
      position: sticky;
      top: 0;
      z-index: 1000;
      border-bottom: 1px solid rgba(255,255,255,0.2);
    }

    .nav-left { display: flex; align-items: center; gap: 15px; }
    .menu-icon {
      font-size: 26px; cursor: pointer;
      transition: transform 0.3s ease;
    }
    .menu-icon:hover { transform: rotate(90deg) scale(1.2); }

    .logo {
      display: flex; align-items: center; gap: 10px; cursor: pointer;
    }
    .logo img {
      height: 125px; width: auto;
      filter: drop-shadow(0 4px 8px rgba(0,0,0,0.2));
      transition: transform 0.4s ease;
    }
    .logo img:hover { transform: rotateY(15deg) scale(1.05); }
    .logo span { color: #ffdd00; font-weight: bold; font-size: 22px; }

    .nav-right {
      display: flex; align-items: center; gap: 12px;
    }
    .list-btn {
      background: linear-gradient(135deg, #ffdd00, #ffd43b);
      color: #000; border: none;
      padding: 8px 16px; border-radius: 50px;
      font-weight: 600; cursor: pointer;
      box-shadow: 0 3px 8px rgba(0,0,0,0.2);
      transition: all 0.3s ease;
    }
    .list-btn:hover { transform: translateY(-3px) scale(1.05); }

    .profile-icon {
      width: 40px; height: 40px; border-radius: 50%;
      background: white; display: flex; justify-content: center; align-items: center;
      color: #0077b6; font-weight: bold; cursor: pointer;
      box-shadow: 0 3px 8px rgba(0,0,0,0.2);
      transition: all 0.3s ease;
    }
    .profile-icon:hover { transform: translateY(-3px) rotate(10deg); }

    /* Sidebar */
    .sidebar {
      position: fixed;
      left: -260px; top: 0; height: 100%; width: 250px;
      background: linear-gradient(160deg, #023e8a, #0077b6);
      color: white; padding: 20px;
      transition: left 0.4s ease;
      z-index: 2000;
      box-shadow: 4px 0 20px rgba(0,0,0,0.4);
    }
    .sidebar.active { left: 0; }
    .sidebar h2 { color: #ffdd00; margin-bottom: 25px; }
    .sidebar a {
      display: block; color: #fff; text-decoration: none;
      padding: 12px 0; border-bottom: 1px solid rgba(255,255,255,0.2);
      transition: all 0.3s;
    }
    .sidebar a:hover { color: #ffdd00; padding-left: 8px; }
    .logout-btn {
      background: #ff4d4d;
      color: white;
      border: none;
      padding: 10px;
      width: 100%;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      margin-top: 25px;
      transition: all 0.3s;
    }
    .logout-btn:hover { background: #e60000; transform: scale(1.05); }

    .overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.5);
      display: none;
      z-index: 1500;
    }
    .overlay.active { display: block; }

    /* Hero Section */
    .hero {
      background: url('https://images.unsplash.com/photo-1504384308090-c894fdcc538d?auto=format&fit=crop&w=1500&q=80') center/cover no-repeat;
      height: 500px;
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
      color: white;
      text-align: center;
      overflow: hidden;
    }
    .hero::before {
      content: "";
      position: absolute;
      inset: 0;
      background: rgba(0,0,0,0.55);
      backdrop-filter: blur(2px);
    }
    .hero-content {
      position: relative;
      z-index: 2;
      transform: translateY(0);
      animation: float 4s ease-in-out infinite;
    }
    @keyframes float {
      0%,100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }
    .hero-content h1 {
      font-size: 44px;
      margin-bottom: 12px;
      text-shadow: 0 3px 10px rgba(0,0,0,0.3);
    }
    .hero-content p {
      font-size: 18px;
      margin-bottom: 25px;
    }

    .search-container {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 10px;
      background: rgba(255,255,255,0.1);
      backdrop-filter: blur(12px);
      padding: 14px 18px;
      border-radius: 50px;
      max-width: 680px;
      margin: 0 auto;
      box-shadow: 0 6px 20px rgba(0,0,0,0.3);
    }
    .search-container input, .search-container select {
      padding: 10px 15px;
      border: none;
      outline: none;
      border-radius: 30px;
      font-size: 15px;
      width: 45%;
      background: rgba(255,255,255,0.8);
    }
    .search-container button {
      background: linear-gradient(135deg, #0077b6, #023e8a);
      color: white; border: none;
      padding: 10px 20px; border-radius: 30px;
      cursor: pointer; font-weight: 600;
      box-shadow: 0 3px 10px rgba(0,0,0,0.3);
      transition: all 0.3s;
    }
    .search-container button:hover { transform: translateY(-2px); }

    /* Services */
    .services {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(270px, 1fr));
      gap: 25px;
      padding: 60px 60px;
    }
    .service-card {
      background: rgba(255,255,255,0.8);
      backdrop-filter: blur(10px);
      border-radius: 15px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.1);
      padding: 30px;
      text-align: center;
      transition: all 0.4s ease;
      transform-style: preserve-3d;
    }
    .service-card:hover {
      transform: rotateY(8deg) translateY(-8px);
      box-shadow: 0 12px 30px rgba(0,0,0,0.2);
    }
    .service-card h3 { color: #0077b6; margin-bottom: 10px; }
    .service-card p { font-size: 14px; color: #555; margin-bottom: 15px; }
    .service-card img {
      width: 100%; border-radius: 10px;
      height: 180px; object-fit: cover;
      margin-bottom: 15px;
      box-shadow: 0 6px 15px rgba(0,0,0,0.15);
    }

    /* Trending Section */
    .trending-section {
      padding: 60px 10%;
      background: linear-gradient(180deg, #f9f9f9, #e8f5ff);
    }
    .trending-section h2 {
      text-align: center;
      color: #0077b6;
      margin-bottom: 40px;
      font-size: 30px;
    }
    .trending-columns {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 40px;
    }
    .column h3 {
      color: #023e8a;
      margin-bottom: 20px;
    }
    .listing-card {
      background: white;
      border-radius: 12px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.1);
      padding: 15px;
      margin-bottom: 15px;
      transition: transform .25s, box-shadow .25s;
    }
    .listing-card:hover {
      transform: translateY(-6px) scale(1.02);
      box-shadow: 0 10px 25px rgba(0,0,0,0.15);
    }
    .listing-card h4 { color: #03045e; margin-bottom: 5px; }
    .listing-card p { margin: 3px 0; color: #555; }
    .listing-link { text-decoration: none; color: inherit; display:block; }

    @media (max-width: 768px) {
      .trending-columns { grid-template-columns: 1fr; }
      .navbar { padding: 0 20px; }
    }

    footer {
      background: #0077b6;
      color: white;
      padding: 50px 60px;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 40px;
    }
    footer h3 { margin-bottom: 15px; color: #ffdd00; }
    footer p, footer a {
      color: #f1f1f1;
      font-size: 14px;
      text-decoration: none;
    }
    .social-icons {
      display: flex;
      gap: 10px;
      margin-top: 10px;
    }
    .social-icons a {
      background: white;
      color: #0077b6;
      width: 32px; height: 32px;
      display: flex;
      justify-content: center;
      align-items: center;
      border-radius: 50%;
      text-decoration: none;
      font-weight: bold;
      transition: all 0.3s;
    }
    .social-icons a:hover { transform: rotate(15deg) scale(1.1); }

  </style>
</head>

<body>

  <!-- Sidebar -->
  <div class="sidebar" id="sidebar">
    <h2>Menu</h2>
    <a href="index.html">üè† Home</a>
    <a href="jobs.html">üíº Jobs</a>
    <a href="rentals.html">üè† Rentals</a>
    <a href="add-job.html">‚ûï Add Job</a>
    <a href="add-rental.html">‚ûï Add Rental</a>
    <a href="login.html">üë§ Login</a>
    <button class="logout-btn" onclick="logout()">üö™ Logout</button>
  </div>

  <div class="overlay" id="overlay" onclick="closeMenu()"></div>

  <!-- Navbar -->
  <header class="navbar">
    <div class="nav-left">
      <div class="menu-icon" onclick="toggleMenu()">‚ò∞</div>
      <div class="logo" onclick="window.location.href='index.html'">
        <img src="apnabridge.png" alt="ApnaBridge Logo">
        <span></span>
      </div>
    </div>
    <div class="nav-right">
      <button class="list-btn" onclick="window.location.href='add-job.html'">List Your Job</button>
      <button class="list-btn" onclick="window.location.href='add-rental.html'">List Your Rental</button>
      <div class="profile-icon" onclick="window.location.href='login.html'">üë§</div>
    </div>
  </header>

  <!-- Hero Section -->
  <section class="hero">
    <div class="hero-content">
      <h1>Find Jobs & Rentals Near You</h1>
      <p>Discover the best opportunities and homes with ApnaBridge</p>
      <div class="search-container">
        <input type="text" id="searchInput" placeholder="Search for Jobs or Rentals...">
        <select id="locationSelect">
          <option value="">Select Location</option>
          <option>Hyderabad</option>
          <option>Bangalore</option>
          <option>Chennai</option>
          <option>Pune</option>
          <option>Delhi</option>
        </select>
        <button onclick="performSearch()">Search</button>
      </div>
    </div>
  </section>

  <!-- Services -->
  <section class="services">
    <div class="service-card">
      <img src="https://images.unsplash.com/photo-1521791055366-0d553872125f?auto=format&fit=crop&w=800&q=80" alt="Jobs">
      <h3>Jobs</h3>
      <p>Search and apply for jobs across multiple sectors and locations.</p>
      <button class="list-btn" onclick="window.location.href='jobs.html'">View Jobs</button>
    </div>
    <div class="service-card">
      <img src="https://images.unsplash.com/photo-1600585154340-be6161a56a0c?auto=format&fit=crop&w=800&q=80" alt="Rentals">
      <h3>Rentals</h3>
      <p>Find apartments, houses, and rooms for rent in your city.</p>
      <button class="list-btn" onclick="window.location.href='rentals.html'">View Rentals</button>
    </div>
  </section>

  <!-- Trending Section -->
  <section class="trending-section">
    <h2>üî• Trending Listings</h2>
    <div class="trending-columns">
      <div class="column" id="trendingJobs">
        <h3>üè¢ Trending Jobs</h3>
        <div id="jobContainer" class="listing-container">
        </div>
      </div>
      <div class="column" id="trendingRentals">
        <h3>üè† Trending Rentals</h3>
        <div id="rentalContainer" class="listing-container">
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div>
      <h3>About ApnaBridge</h3>
      <p>Your trusted platform to find verified jobs and rental listings easily.</p>
      <div class="social-icons">
        <a href="#">F</a><a href="#">I</a><a href="#">Y</a><a href="#">X</a><a href="#">L</a>
      </div>
    </div>
    <div>
      <h3>Corporate</h3>
      <a href="#">About Us</a><br>
      <a href="#">Contact</a><br>
      <a href="#">Terms & Conditions</a><br>
      <a href="#">Privacy Policy</a>
    </div>
    <div>
      <h3>Quick Links</h3>
      <a href="jobs.html">Jobs</a><br>
      <a href="rentals.html">Rentals</a><br>
      <a href="add-job.html">Add Job</a><br>
      <a href="add-rental.html">Add Rental</a>
    </div>
  </footer>

  <p style="text-align:center; padding:10px; background:#0077b6; color:white;">¬© 2025 ApnaBridge | Designed by Ganeshsai</p>

  <script>
    function toggleMenu(){document.getElementById("sidebar").classList.toggle("active");document.getElementById("overlay").classList.toggle("active");}
    function closeMenu(){document.getElementById("sidebar").classList.remove("active");document.getElementById("overlay").classList.remove("active");}
    function performSearch(){
      const query=document.querySelector("#searchInput").value.trim().toLowerCase();
      const location=document.querySelector("#locationSelect").value;
      if(!query){alert("Please enter something to search!");return;}
      const jobKeywords=["developer","designer","manager","engineer","job","internship","teacher"];
      const rentalKeywords=["flat","room","house","pg","apartment","rental","1bhk","2bhk","3bhk"];
      let targetPage="jobs.html";
      if(rentalKeywords.some(word=>query.includes(word))) targetPage="rentals.html";
      else if(!jobKeywords.some(word=>query.includes(word))){
        const choice=confirm("Is this related to rentals? Click OK for Rentals or Cancel for Jobs.");
        targetPage=choice?"rentals.html":"jobs.html";
      }
      window.location.href=`${targetPage}?query=${encodeURIComponent(query)}&location=${encodeURIComponent(location)}`;
    }
    function logout(){alert("You have been logged out!");window.location.href="index.html";}
    async function loadTrending(){
      const jobContainer=document.getElementById("jobContainer");
      const rentalContainer=document.getElementById("rentalContainer");
      jobContainer.innerHTML = '<p style="padding:12px">Loading...</p>';
      rentalContainer.innerHTML = '<p style="padding:12px">Loading...</p>';
      try {
        const res = await fetch("http://127.0.0.1:5000/trending");
        if (!res.ok) throw new Error("Failed to fetch trending from backend");
        const data = await res.json();
        const jobs = Array.isArray(data) ? data.filter(i => i.type === "job") : [];
        const rentals = Array.isArray(data) ? data.filter(i => i.type === "rental") : [];
        jobContainer.innerHTML = jobs.length ? jobs.map(j => `<a class="listing-link" href="job_details.html?id=${encodeURIComponent(j.id)}"><div class="listing-card"><h4>${escapeHtml(j.title)}</h4><p>${escapeHtml(j.description?.substring(0,120) || "")}</p></div></a>`).join("") : '<p>No trending jobs yet üòï</p>';
        rentalContainer.innerHTML = rentals.length ? rentals.map(r => `<a class="listing-link" href="rental_details.html?id=${encodeURIComponent(r.id)}"><div class="listing-card"><h4>${escapeHtml(r.title)}</h4><p>${escapeHtml(r.description?.substring(0,120) || "")}</p></div></a>`).join("") : '<p>No trending rentals yet üòï</p>';
      } catch (err) {
        console.error(err);
        jobContainer.innerHTML = "<p>Error loading jobs ‚ö†Ô∏è</p>";
        rentalContainer.innerHTML = "<p>Error loading rentals ‚ö†Ô∏è</p>";
      }
    }
    function escapeHtml(str){return str?String(str).replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#039;"):"";}
    document.addEventListener("DOMContentLoaded", loadTrending);
  </script>

</body>
</html>

















